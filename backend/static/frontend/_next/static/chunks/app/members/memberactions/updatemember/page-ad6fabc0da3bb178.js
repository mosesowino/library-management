(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{3173:(e,s,a)=>{Promise.resolve().then(a.bind(a,9292))},9292:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var l=a(5155),n=a(2115),t=a(285),c=a(6695),i=a(2523),r=a(3792);function d(e){let{onAction:s,member:a}=e,[d,h]=(0,n.useState)(""),[o,u]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[m,j]=(0,n.useState)(""),[f,v]=(0,n.useState)(!0),N=e=>{x(e),s(e)};return(0,n.useEffect)(()=>{if("update"===p){let e={};""!==d.trim()&&(e.name=d),""!==o.trim()&&(e.phone=o),(async()=>{try{let s=await fetch("".concat(r.backendUrl,"/members/").concat(null==a?void 0:a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await s.json();j(l.message||"Member updated successfully!"),v(!1)}catch(e){j("Failed to update member."),v(!1)}})()}},[p]),(0,l.jsxs)(c.Zp,{className:"w-[350px] mx-auto",children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(c.ZB,{children:"Update Member"}),(0,l.jsx)(c.BT,{children:"Only update the fields you wish to change"})]}),(0,l.jsx)(c.Wu,{children:f?(0,l.jsx)("form",{children:(0,l.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,l.jsxs)(c.Zp,{className:"mb-2 p-2 text-sm",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Member ID:"})," ",null==a?void 0:a.id]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Name:"})," ",null==a?void 0:a.name]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Phone:"})," ",null==a?void 0:a.phone]})]}),(0,l.jsx)(i.p,{placeholder:"New Name",value:d,onChange:e=>h(e.target.value)}),(0,l.jsx)(i.p,{placeholder:"New Phone",value:o,onChange:e=>u(e.target.value)})]})})}):(0,l.jsx)("p",{className:"text-green-600",children:m})}),(0,l.jsxs)(c.wL,{className:"flex justify-between",children:[(0,l.jsx)(t.$,{variant:"outline",onClick:()=>N("cancel"),children:"Cancel"}),f&&(0,l.jsx)(t.$,{onClick:()=>N("update"),children:"Update"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[105,932,464,998,30,441,684,358],()=>s(3173)),_N_E=e.O()}]);