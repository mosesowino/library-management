(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{719:(e,s,a)=>{Promise.resolve().then(a.bind(a,3784))},1815:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(2115),n=a(285),r=a(6695),d=a(2523),i=a(3792);function o(e){let{onAction:s,member:a}=e,[o,c]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[h,u]=(0,l.useState)(""),p=async e=>{console.log("payment done")},j=e=>{"cancel"===e?s("cancel"):"done"===e&&(s("done"),async function(){let e=await fetch("".concat(i.backendUrl,"/make_payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_id:a.id,amount:o})});u((await e.json()).message||"Payment made successfully!")}())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Zp,{className:"w-[350px] mx-auto",children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Make payment"}),(0,t.jsx)(r.BT,{children:"make payment to clear existing debt"})]}),(0,t.jsxs)(r.Wu,{children:[(0,t.jsx)(r.Zp,{className:" mb-3 mx-auto",children:h?(0,t.jsx)(r.Zp,{className:" mx-auto p-2 text-center text-green-500",children:h}):(0,t.jsxs)(r.Wu,{className:"text-center",children:[(0,t.jsxs)("p",{children:["Member name: ",null==a?void 0:a.name]}),(0,t.jsxs)("p",{children:["Fee: ",null==a?void 0:a.debt]})]})}),h?"":(0,t.jsx)("form",{onSubmit:p,children:(0,t.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,t.jsx)("div",{className:"flex flex-col space-y-2",children:(0,t.jsx)(d.p,{placeholder:"Enter payment amount",value:o,onChange:e=>{c(e.target.value)}})})})})]}),h?"":(0,t.jsxs)(r.wL,{className:"flex justify-between",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>j("cancel"),children:"Cancel"}),(0,t.jsx)(n.$,{type:"submit",onClick:()=>j("done"),children:"Done"})]})]})})}},3784:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>I});var t=a(5155),l=a(6874),n=a.n(l),r=a(7340),d=a(4177),i=a(2548),o=a(9249),c=a(381),m=a(2432),x=a(6697),h=a(7924),u=a(9103),p=a(5623),j=a(9018),f=a(285),g=a(6695),b=a(4838),y=a(2523),N=a(8382),w=a(5127),v=a(7313),A=a(6102),C=a(6126),k=a(2115),T=a(3464),D=a(5256),S=a(9292),M=a(1815),E=a(6600);let R="http://localhost:5000";function I(){let[e,s]=(0,k.useState)(!1),[a,l]=(0,k.useState)(!1),[I,P]=(0,k.useState)(!1),[F,O]=(0,k.useState)(null),[Z,z]=(0,k.useState)(null),[B,J]=(0,k.useState)(!1);(0,k.useEffect)(()=>{(async()=>{let e=await T.A.get(R+"/members");console.log(e.data),e&&e.data&&(localStorage.setItem("members",JSON.stringify(e.data)),O(e.data))})()},[]);let $=e=>{switch(e[0]){case"payment":z({id:e[1],name:e[2],debt:e[3]}),P(!0);break;case"edit":z({id:e[1],name:e[2],debt:e[3]}),l(!a);break;case"delete":z({id:e[1],name:e[2],debt:e[3]}),J(!0);break;default:console.log("Invalid action")}},L=async()=>{if(null==Z?void 0:Z.id)try{(await fetch("".concat(R,"/members/delete/").concat(Z.id),{method:"DELETE"})).ok?console.log("Member deleted successfully"):console.error("Failed to delete member")}catch(e){console.error("Error deleting member:",e)}finally{J(!1)}};return(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-slate-800",children:[(0,t.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-10 hidden w-14 flex-col border-r bg-background sm:flex",children:[(0,t.jsxs)("nav",{className:"flex flex-col items-center gap-4 px-2 sm:py-5",children:[(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(r.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Dashboard"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Dashboard"})]})}),(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n(),{href:"books/issued",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Issued"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Issued"})]})}),(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/books",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(i.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"books"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"books"})]})}),(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/members",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-accent text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Members"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Members"})]})})]}),(0,t.jsx)("nav",{className:"mt-auto flex flex-col items-center gap-4 px-2 sm:py-5",children:(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n(),{href:"#",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(c.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Settings"})]})})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:gap-4 sm:py-4 sm:pl-14",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[(0,t.jsxs)(N.Sheet,{children:[(0,t.jsx)(N.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(f.$,{size:"icon",variant:"outline",className:"sm:hidden",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,t.jsx)(N.SheetContent,{side:"left",className:"sm:max-w-xs",children:(0,t.jsxs)("nav",{className:"grid gap-6 text-lg font-medium",children:[(0,t.jsxs)(n(),{href:"/",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(r.A,{className:"h-5 w-5"}),"Dashboard"]}),(0,t.jsxs)(n(),{href:"#",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),"Issued"]}),(0,t.jsxs)(n(),{href:"/books",className:"flex items-center gap-4 px-2.5 text-foreground",children:[(0,t.jsx)(i.A,{className:"h-5 w-5"}),"books"]}),(0,t.jsxs)(n(),{href:"/members",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Members"]}),(0,t.jsxs)(n(),{href:"#",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Settings"]})]})})]}),(0,t.jsx)(j.Qp,{className:"hidden md:flex",children:(0,t.jsxs)(j.AB,{children:[(0,t.jsx)(j.J5,{children:(0,t.jsx)(j.w1,{asChild:!0,children:(0,t.jsx)(n(),{href:"/",children:"Dashboard"})})}),(0,t.jsx)(j.tH,{}),(0,t.jsx)(j.J5,{children:(0,t.jsx)(j.w1,{asChild:!0,children:(0,t.jsx)(n(),{href:"#",children:"Members"})})})]})}),(0,t.jsxs)("div",{className:"relative ml-auto flex-1 md:grow-0",children:[(0,t.jsx)(h.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(y.p,{type:"search",placeholder:"Search...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]"})]}),(0,t.jsxs)(b.DropdownMenu,{children:[(0,t.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(f.$,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:"A"})}),(0,t.jsxs)(b.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(b.DropdownMenuLabel,{children:"My Account"}),(0,t.jsx)(b.DropdownMenuSeparator,{}),(0,t.jsx)(b.DropdownMenuItem,{children:"Settings"}),(0,t.jsx)(b.DropdownMenuItem,{children:"Support"}),(0,t.jsx)(b.DropdownMenuSeparator,{}),(0,t.jsx)(b.DropdownMenuItem,{children:"Logout"})]})]})]}),(0,t.jsx)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8",children:(0,t.jsxs)(v.Tabs,{defaultValue:"all",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{className:"ml-auto flex items-center gap-2",children:(0,t.jsxs)(f.$,{size:"sm",className:"h-8 gap-1",onClick:()=>{s(!e),l(!1)},children:[e||a?"":(0,t.jsx)(u.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:e||a?"show members":"Add Member"})]})})}),(0,t.jsx)(v.TabsContent,{value:"all",children:I?(0,t.jsx)(M.default,{onAction:e=>{"cancel"===e?P(!1):"done"===e&&(console.log("Payment done"),setTimeout(()=>P(!1),5e3))},member:Z}):(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(S.default,{onAction:e=>{switch(e){case"cancel":l(!a);break;case"update":setTimeout(()=>l(!1),5e3);break;default:console.log("Invalid action")}},member:Z}):(0,t.jsx)(t.Fragment,{children:e?(0,t.jsx)(D.default,{onAction:a=>{"cancel"===a?s(!e):"add"===a&&(console.log("Add clicked"),setTimeout(()=>s(!1),5e3))}}):(0,t.jsxs)(g.Zp,{"x-chunk":"dashboard-06-chunk-0",children:[(0,t.jsxs)(g.aR,{children:[(0,t.jsx)(g.ZB,{children:"members"}),(0,t.jsx)(g.BT,{children:"Manage members and update payments."})]}),(0,t.jsx)(g.Wu,{children:(0,t.jsxs)(w.XI,{children:[(0,t.jsx)(w.A0,{children:(0,t.jsxs)(w.Hj,{children:[(0,t.jsx)(w.nd,{children:"Name"}),(0,t.jsx)(w.nd,{children:"status"}),(0,t.jsx)(w.nd,{className:"hidden md:table-cell",children:"debt"}),(0,t.jsx)(w.nd,{children:(0,t.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,t.jsx)(w.BF,{children:F?F.map(e=>(0,t.jsxs)(w.Hj,{children:[(0,t.jsxs)(w.nA,{className:"font-medium",children:[(0,t.jsx)("p",{children:e.name}),(0,t.jsxs)("p",{children:["id: ",e.id]})]}),(0,t.jsx)(w.nA,{children:(0,t.jsx)(C.E,{variant:"outline",children:500>parseInt(e.debt)?(0,t.jsx)("p",{className:"text-green-400",children:"Eligible"}):(0,t.jsx)("p",{className:"text-amber-400",children:"not Eligible"})})}),(0,t.jsx)(w.nA,{className:"hidden md:table-cell",children:e.debt}),(0,t.jsx)(w.nA,{children:(0,t.jsxs)(b.DropdownMenu,{children:[(0,t.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(f.$,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,t.jsxs)(b.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(b.DropdownMenuLabel,{children:"Actions"}),parseInt(e.debt)>0?(0,t.jsx)(b.DropdownMenuItem,{onClick:()=>$(["payment",e.id,e.name,e.debt]),children:"Pay debt"}):"",(0,t.jsx)(b.DropdownMenuItem,{onClick:()=>$(["edit",e.id,e.name,e.debt]),children:"Edit"}),(0,t.jsx)(b.DropdownMenuItem,{onClick:()=>$(["delete",e.id,e.name,e.debt]),children:"Delete"})]})]})})]},e.id)):""})]})}),B&&(0,t.jsx)(E.A,{title:"Delete Member?",description:"Are you sure you want to delete ".concat(null==Z?void 0:Z.name,"?"),onConfirm:L,onCancel:()=>J(!1)})]})})})})]})})]})]})}},5256:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var t=a(5155),l=a(2115),n=a(285),r=a(6695),d=a(2523),i=a(8979),o=a(3792);function c(e){let{onAction:s}=e,[a,c]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[h,u]=(0,l.useState)(""),[p,j]=(0,l.useState)(""),[f,g]=(0,l.useState)(""),[b,y]=(0,l.useState)(!0),N=e=>{g(e),s(e)};return(0,l.useEffect)(()=>{if("add"===f){let e={name:a,email:h,phone:m};(async()=>{try{let s=await fetch("".concat(o.backendUrl,"/members"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();j(a.message||"Member added successfully!"),y(!1)}catch(e){y(!1)}})()}},[f]),(0,t.jsxs)(r.Zp,{className:"w-[350px] m-auto",children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Add New Member"}),(0,t.jsx)(r.BT,{children:"The Member Id is generated for you"})]}),(0,t.jsx)(r.Wu,{children:b?(0,t.jsx)("form",{children:(0,t.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,t.jsx)(i.J,{htmlFor:"member-name",children:"Name"}),(0,t.jsx)(d.p,{id:"member-name",placeholder:"Name of new user",value:a,onChange:e=>c(e.target.value)}),(0,t.jsx)(i.J,{htmlFor:"member-phone",children:"Phone"}),(0,t.jsx)(d.p,{id:"member-phone",placeholder:"Phone number",value:m,onChange:e=>x(e.target.value)}),(0,t.jsx)(i.J,{htmlFor:"member-email",children:"Email"}),(0,t.jsx)(d.p,{id:"member-email",placeholder:"Email address",value:h,onChange:e=>u(e.target.value)})]})})}):(0,t.jsx)("p",{className:"text-green-600",children:p})}),(0,t.jsxs)(r.wL,{className:"flex justify-between",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>N("cancel"),children:"Cancel"}),b&&(0,t.jsx)(n.$,{onClick:()=>N("add"),children:"Add"})]})]})}},5623:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},6600:(e,s,a)=>{"use strict";a.d(s,{A:()=>J});var t=a(5155),l=a(2115),n=a(6081),r=a(6101),d=a(5452),i=a(5185),o=a(9708),c="AlertDialog",[m,x]=(0,n.A)(c,[d.Hs]),h=(0,d.Hs)(),u=e=>{let{__scopeAlertDialog:s,...a}=e,l=h(s);return(0,t.jsx)(d.bL,{...l,...a,modal:!0})};u.displayName=c,l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...l}=e,n=h(a);return(0,t.jsx)(d.l9,{...n,...l,ref:s})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:s,...a}=e,l=h(s);return(0,t.jsx)(d.ZL,{...l,...a})};p.displayName="AlertDialogPortal";var j=l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...l}=e,n=h(a);return(0,t.jsx)(d.hJ,{...n,...l,ref:s})});j.displayName="AlertDialogOverlay";var f="AlertDialogContent",[g,b]=m(f),y=(0,o.Dc)("AlertDialogContent"),N=l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:n,...o}=e,c=h(a),m=l.useRef(null),x=(0,r.s)(s,m),u=l.useRef(null);return(0,t.jsx)(d.G$,{contentName:f,titleName:w,docsSlug:"alert-dialog",children:(0,t.jsx)(g,{scope:a,cancelRef:u,children:(0,t.jsxs)(d.UC,{role:"alertdialog",...c,...o,ref:x,onOpenAutoFocus:(0,i.m)(o.onOpenAutoFocus,e=>{var s;e.preventDefault(),null==(s=u.current)||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(y,{children:n}),(0,t.jsx)(S,{contentRef:m})]})})})});N.displayName=f;var w="AlertDialogTitle",v=l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...l}=e,n=h(a);return(0,t.jsx)(d.hE,{...n,...l,ref:s})});v.displayName=w;var A="AlertDialogDescription",C=l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...l}=e,n=h(a);return(0,t.jsx)(d.VY,{...n,...l,ref:s})});C.displayName=A;var k=l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...l}=e,n=h(a);return(0,t.jsx)(d.bm,{...n,...l,ref:s})});k.displayName="AlertDialogAction";var T="AlertDialogCancel",D=l.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...l}=e,{cancelRef:n}=b(T,a),i=h(a),o=(0,r.s)(s,n);return(0,t.jsx)(d.bm,{...i,...l,ref:o})});D.displayName=T;var S=e=>{let{contentRef:s}=e,a="`".concat(f,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(f,"` by passing a `").concat(A,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(f,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return l.useEffect(()=>{var e;document.getElementById(null==(e=s.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,s]),null},M=a(9434),E=a(285);let R=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(j,{className:(0,M.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});R.displayName=j.displayName;let I=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(p,{children:[(0,t.jsx)(R,{}),(0,t.jsx)(N,{ref:s,className:(0,M.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});I.displayName=N.displayName;let P=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,M.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};P.displayName="AlertDialogHeader";let F=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,M.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};F.displayName="AlertDialogFooter";let O=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v,{ref:s,className:(0,M.cn)("text-lg font-semibold",a),...l})});O.displayName=v.displayName;let Z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(C,{ref:s,className:(0,M.cn)("text-sm text-muted-foreground",a),...l})});Z.displayName=C.displayName;let z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(k,{ref:s,className:(0,M.cn)((0,E.r)(),a),...l})});z.displayName=k.displayName;let B=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D,{ref:s,className:(0,M.cn)((0,E.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});function J(e){let{title:s,description:a,onConfirm:l,onCancel:n}=e;return(0,t.jsx)(u,{open:!0,onOpenChange:e=>!e&&n(),children:(0,t.jsxs)(I,{children:[(0,t.jsxs)(P,{children:[(0,t.jsx)(O,{children:s}),(0,t.jsx)(Z,{children:a})]}),(0,t.jsxs)(F,{children:[(0,t.jsx)(B,{children:"Cancel"}),(0,t.jsx)(z,{onClick:l,children:"Continue"})]})]})})}B.displayName=D.displayName},8979:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(5155),l=a(2115),n=a(3655),r=l.forwardRef((e,s)=>(0,t.jsx)(n.sG.label,{...e,ref:s,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r.displayName="Label";var d=a(3243),i=a(9434);let o=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r,{ref:s,className:(0,i.cn)(o(),a),...l})});c.displayName=r.displayName},9103:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},9292:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(2115),n=a(285),r=a(6695),d=a(2523),i=a(3792);function o(e){let{onAction:s,member:a}=e,[o,c]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[h,u]=(0,l.useState)(""),[p,j]=(0,l.useState)(""),[f,g]=(0,l.useState)(!0),b=e=>{u(e),s(e)};return(0,l.useEffect)(()=>{if("update"===h){let e={};""!==o.trim()&&(e.name=o),""!==m.trim()&&(e.phone=m),(async()=>{try{let s=await fetch("".concat(i.backendUrl,"/members/").concat(null==a?void 0:a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();j(t.message||"Member updated successfully!"),g(!1)}catch(e){j("Failed to update member."),g(!1)}})()}},[h]),(0,t.jsxs)(r.Zp,{className:"w-[350px] mx-auto",children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Update Member"}),(0,t.jsx)(r.BT,{children:"Only update the fields you wish to change"})]}),(0,t.jsx)(r.Wu,{children:f?(0,t.jsx)("form",{children:(0,t.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,t.jsxs)(r.Zp,{className:"mb-2 p-2 text-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Member ID:"})," ",null==a?void 0:a.id]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",null==a?void 0:a.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",null==a?void 0:a.phone]})]}),(0,t.jsx)(d.p,{placeholder:"New Name",value:o,onChange:e=>c(e.target.value)}),(0,t.jsx)(d.p,{placeholder:"New Phone",value:m,onChange:e=>x(e.target.value)})]})})}):(0,t.jsx)("p",{className:"text-green-600",children:p})}),(0,t.jsxs)(r.wL,{className:"flex justify-between",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>b("cancel"),children:"Cancel"}),f&&(0,t.jsx)(n.$,{onClick:()=>b("update"),children:"Update"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[105,932,464,998,30,441,684,358],()=>s(719)),_N_E=e.O()}]);