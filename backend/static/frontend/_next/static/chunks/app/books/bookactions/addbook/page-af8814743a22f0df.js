(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{3843:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>c});var t=l(5155),s=l(2115),o=l(285),r=l(6695),n=l(2523),d=l(8979),i=l(3792);function c(e){let{onAction:a}=e,[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(!0),[p,x]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[m,b]=(0,s.useState)(""),[k,v]=(0,s.useState)(""),g=async e=>{if(a(e),"add"===e)try{let e=await fetch("".concat(i.backendUrl,"/books"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:p,author:f,copies:m,fee:k,issued:0})}),a=await e.json();c(a.message||"Book added successfully!"),h(!1),x(""),j(""),b(""),v("")}catch(e){c("Error adding book."),h(!1)}};return(0,t.jsxs)(r.Zp,{className:"w-[350px] mx-auto",children:[(0,t.jsxs)(r.aR,{children:[(0,t.jsx)(r.ZB,{children:"Add New Book"}),(0,t.jsx)(r.BT,{children:"Book Id is generated for you"})]}),(0,t.jsx)(r.Wu,{children:u?(0,t.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,t.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,t.jsx)(d.J,{htmlFor:"book-title",children:"Title"}),(0,t.jsx)(n.p,{id:"book-title",placeholder:"Book Title",value:p,onChange:e=>x(e.target.value)}),(0,t.jsx)(d.J,{htmlFor:"book-author",children:"Author"}),(0,t.jsx)(n.p,{id:"book-author",placeholder:"Author",value:f,onChange:e=>j(e.target.value)}),(0,t.jsx)(d.J,{htmlFor:"book-copies",children:"Number of copies"}),(0,t.jsx)(n.p,{id:"book-copies",placeholder:"Number of copies",value:m,onChange:e=>b(e.target.value)}),(0,t.jsx)(d.J,{htmlFor:"book-fee",children:"Fee"}),(0,t.jsx)(n.p,{id:"book-fee",placeholder:"Fee",value:k,onChange:e=>v(e.target.value)})]})})}):(0,t.jsx)("p",{className:"text-green-600",children:l})}),(0,t.jsxs)(r.wL,{className:"flex justify-between",children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>g("cancel"),children:"Cancel"}),u&&(0,t.jsx)(o.$,{onClick:()=>g("add"),children:"Add"})]})]})}},7752:(e,a,l)=>{Promise.resolve().then(l.bind(l,3843))},8979:(e,a,l)=>{"use strict";l.d(a,{J:()=>c});var t=l(5155),s=l(2115),o=l(3655),r=s.forwardRef((e,a)=>(0,t.jsx)(o.sG.label,{...e,ref:a,onMouseDown:a=>{var l;a.target.closest("button, input, select, textarea")||(null==(l=e.onMouseDown)||l.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var n=l(3243),d=l(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(r,{ref:a,className:(0,d.cn)(i(),l),...s})});c.displayName=r.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[105,932,464,998,30,441,684,358],()=>a(7752)),_N_E=e.O()}]);