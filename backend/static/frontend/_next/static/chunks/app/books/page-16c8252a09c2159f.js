(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{3843:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>c});var t=l(5155),a=l(2115),r=l(285),o=l(6695),n=l(2523),i=l(8979),d=l(3792);function c(e){let{onAction:s}=e,[l,c]=(0,a.useState)(""),[h,x]=(0,a.useState)(!0),[u,m]=(0,a.useState)(""),[p,j]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[N,b]=(0,a.useState)(""),y=async e=>{if(s(e),"add"===e)try{let e=await fetch("".concat(d.backendUrl,"/books"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:u,author:p,copies:f,fee:N,issued:0})}),s=await e.json();c(s.message||"Book added successfully!"),x(!1),m(""),j(""),g(""),b("")}catch(e){c("Error adding book."),x(!1)}};return(0,t.jsxs)(o.Zp,{className:"w-[350px] mx-auto",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Add New Book"}),(0,t.jsx)(o.BT,{children:"Book Id is generated for you"})]}),(0,t.jsx)(o.Wu,{children:h?(0,t.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,t.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,t.jsx)(i.J,{htmlFor:"book-title",children:"Title"}),(0,t.jsx)(n.p,{id:"book-title",placeholder:"Book Title",value:u,onChange:e=>m(e.target.value)}),(0,t.jsx)(i.J,{htmlFor:"book-author",children:"Author"}),(0,t.jsx)(n.p,{id:"book-author",placeholder:"Author",value:p,onChange:e=>j(e.target.value)}),(0,t.jsx)(i.J,{htmlFor:"book-copies",children:"Number of copies"}),(0,t.jsx)(n.p,{id:"book-copies",placeholder:"Number of copies",value:f,onChange:e=>g(e.target.value)}),(0,t.jsx)(i.J,{htmlFor:"book-fee",children:"Fee"}),(0,t.jsx)(n.p,{id:"book-fee",placeholder:"Fee",value:N,onChange:e=>b(e.target.value)})]})})}):(0,t.jsx)("p",{className:"text-green-600",children:l})}),(0,t.jsxs)(o.wL,{className:"flex justify-between",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:()=>y("cancel"),children:"Cancel"}),h&&(0,t.jsx)(r.$,{onClick:()=>y("add"),children:"Add"})]})]})}},5623:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});let t=(0,l(9946).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},6600:(e,s,l)=>{"use strict";l.d(s,{A:()=>z});var t=l(5155),a=l(2115),r=l(6081),o=l(6101),n=l(5452),i=l(5185),d=l(9708),c="AlertDialog",[h,x]=(0,r.A)(c,[n.Hs]),u=(0,n.Hs)(),m=e=>{let{__scopeAlertDialog:s,...l}=e,a=u(s);return(0,t.jsx)(n.bL,{...a,...l,modal:!0})};m.displayName=c,a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,...a}=e,r=u(l);return(0,t.jsx)(n.l9,{...r,...a,ref:s})}).displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:s,...l}=e,a=u(s);return(0,t.jsx)(n.ZL,{...a,...l})};p.displayName="AlertDialogPortal";var j=a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,...a}=e,r=u(l);return(0,t.jsx)(n.hJ,{...r,...a,ref:s})});j.displayName="AlertDialogOverlay";var f="AlertDialogContent",[g,N]=h(f),b=(0,d.Dc)("AlertDialogContent"),y=a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,children:r,...d}=e,c=u(l),h=a.useRef(null),x=(0,o.s)(s,h),m=a.useRef(null);return(0,t.jsx)(n.G$,{contentName:f,titleName:w,docsSlug:"alert-dialog",children:(0,t.jsx)(g,{scope:l,cancelRef:m,children:(0,t.jsxs)(n.UC,{role:"alertdialog",...c,...d,ref:x,onOpenAutoFocus:(0,i.m)(d.onOpenAutoFocus,e=>{var s;e.preventDefault(),null==(s=m.current)||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(b,{children:r}),(0,t.jsx)(S,{contentRef:h})]})})})});y.displayName=f;var w="AlertDialogTitle",v=a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,...a}=e,r=u(l);return(0,t.jsx)(n.hE,{...r,...a,ref:s})});v.displayName=w;var k="AlertDialogDescription",A=a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,...a}=e,r=u(l);return(0,t.jsx)(n.VY,{...r,...a,ref:s})});A.displayName=k;var C=a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,...a}=e,r=u(l);return(0,t.jsx)(n.bm,{...r,...a,ref:s})});C.displayName="AlertDialogAction";var T="AlertDialogCancel",D=a.forwardRef((e,s)=>{let{__scopeAlertDialog:l,...a}=e,{cancelRef:r}=N(T,l),i=u(l),d=(0,o.s)(s,r);return(0,t.jsx)(n.bm,{...i,...a,ref:d})});D.displayName=T;var S=e=>{let{contentRef:s}=e,l="`".concat(f,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(f,"` by passing a `").concat(k,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(f,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return a.useEffect(()=>{var e;document.getElementById(null==(e=s.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(l)},[l,s]),null},M=l(9434),_=l(285);let R=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(j,{className:(0,M.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...a,ref:s})});R.displayName=j.displayName;let B=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsxs)(p,{children:[(0,t.jsx)(R,{}),(0,t.jsx)(y,{ref:s,className:(0,M.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l),...a})]})});B.displayName=y.displayName;let F=e=>{let{className:s,...l}=e;return(0,t.jsx)("div",{className:(0,M.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...l})};F.displayName="AlertDialogHeader";let I=e=>{let{className:s,...l}=e;return(0,t.jsx)("div",{className:(0,M.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...l})};I.displayName="AlertDialogFooter";let E=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(v,{ref:s,className:(0,M.cn)("text-lg font-semibold",l),...a})});E.displayName=v.displayName;let O=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(A,{ref:s,className:(0,M.cn)("text-sm text-muted-foreground",l),...a})});O.displayName=A.displayName;let P=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(C,{ref:s,className:(0,M.cn)((0,_.r)(),l),...a})});P.displayName=C.displayName;let J=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(D,{ref:s,className:(0,M.cn)((0,_.r)({variant:"outline"}),"mt-2 sm:mt-0",l),...a})});function z(e){let{title:s,description:l,onConfirm:a,onCancel:r}=e;return(0,t.jsx)(m,{open:!0,onOpenChange:e=>!e&&r(),children:(0,t.jsxs)(B,{children:[(0,t.jsxs)(F,{children:[(0,t.jsx)(E,{children:s}),(0,t.jsx)(O,{children:l})]}),(0,t.jsxs)(I,{children:[(0,t.jsx)(J,{children:"Cancel"}),(0,t.jsx)(P,{onClick:a,children:"Continue"})]})]})})}J.displayName=D.displayName},7050:(e,s,l)=>{Promise.resolve().then(l.bind(l,8317))},8317:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>R});var t=l(5155),a=l(6874),r=l.n(a),o=l(7340),n=l(4177),i=l(2548),d=l(9249),c=l(381),h=l(2432),x=l(6697),u=l(7924),m=l(9103),p=l(5623),j=l(6126),f=l(9018),g=l(285),N=l(6695),b=l(4838),y=l(2523),w=l(8382),v=l(5127),k=l(7313),A=l(6102),C=l(2115),T=l(3843),D=l(9980),S=l(3464),M=l(6600),_=l(3792);function R(){let[e,s]=(0,C.useState)([]),[l,a]=(0,C.useState)(!1),[R,B]=(0,C.useState)(!1),[F,I]=(0,C.useState)(),[E,O]=(0,C.useState)(!1),P=async()=>{try{let e=await S.A.get("".concat(_.backendUrl,"/books"));e&&e.data&&s(e.data)}catch(e){console.error("Failed to fetch books:",e)}};(0,C.useEffect)(()=>{P()},[]);let J=e=>{console.log("Action chosen:",e),"edit"===e[0]?(I({title:e[1],author:e[2],cost_per_day:e[3],total_copies:e[4],id:e[5]}),console.log("current book",null==F?void 0:F.id),B(!0)):"delete"===e[0]&&(I({title:e[1],author:e[2],cost_per_day:e[3],total_copies:e[4],id:e[5]}),O(!0))},z=async()=>{if(null==F?void 0:F.id){console.log("The id of this book bana, ",F.id);try{(await fetch("".concat(_.backendUrl,"/books/delete/").concat(F.id),{method:"DELETE"})).ok?(console.log("Book deleted successfully"),P()):console.error("Failed to delete book")}catch(e){console.error("Error deleting book:",e)}finally{O(!1)}}};return(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-slate-800",children:[(0,t.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-10 hidden w-14 flex-col border-r bg-background sm:flex",children:[(0,t.jsxs)("nav",{className:"flex flex-col items-center gap-4 px-2 sm:py-5",children:[(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(r(),{href:"/",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Dashboard"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Dashboard"})]})}),(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(r(),{href:"books/issued",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(n.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Issued"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Issued"})]})}),(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(r(),{href:"/books",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-accent text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(i.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"books"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"books"})]})}),(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(r(),{href:"/members",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Members"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Members"})]})})]}),(0,t.jsx)("nav",{className:"mt-auto flex flex-col items-center gap-4 px-2 sm:py-5",children:(0,t.jsx)(A.TooltipProvider,{children:(0,t.jsxs)(A.Tooltip,{children:[(0,t.jsx)(A.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(r(),{href:"#",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,t.jsx)(c.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,t.jsx)(A.TooltipContent,{side:"right",children:"Settings"})]})})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:gap-4 sm:py-4 sm:pl-14",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[(0,t.jsxs)(w.Sheet,{children:[(0,t.jsx)(w.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(g.$,{size:"icon",variant:"outline",className:"sm:hidden",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,t.jsx)(w.SheetContent,{side:"left",className:"sm:max-w-xs",children:(0,t.jsxs)("nav",{className:"grid gap-6 text-lg font-medium",children:[(0,t.jsxs)(r(),{href:"/",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Home"]}),(0,t.jsxs)(r(),{href:"#",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(n.A,{className:"h-5 w-5"}),"Issued"]}),(0,t.jsxs)(r(),{href:"/books",className:"flex items-center gap-4 px-2.5 text-foreground",children:[(0,t.jsx)(i.A,{className:"h-5 w-5"}),"books"]}),(0,t.jsxs)(r(),{href:"/members",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(d.A,{className:"h-5 w-5"}),"Members"]}),(0,t.jsxs)(r(),{href:"#",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Settings"]})]})})]}),(0,t.jsx)(f.Qp,{className:"hidden md:flex",children:(0,t.jsxs)(f.AB,{children:[(0,t.jsx)(f.J5,{children:(0,t.jsx)(f.w1,{asChild:!0,children:(0,t.jsx)(r(),{href:"/",children:"Dashboard"})})}),(0,t.jsx)(f.tH,{}),(0,t.jsx)(f.J5,{children:(0,t.jsx)(f.w1,{asChild:!0,children:(0,t.jsx)(r(),{href:"#",children:"books"})})}),(0,t.jsx)(f.tH,{}),(0,t.jsx)(f.J5,{children:(0,t.jsx)(f.tJ,{children:"All books"})})]})}),(0,t.jsxs)("div",{className:"relative ml-auto flex-1 md:grow-0",children:[(0,t.jsx)(u.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(y.p,{type:"search",placeholder:"Search...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]"})]}),(0,t.jsxs)(b.DropdownMenu,{children:[(0,t.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(g.$,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:"A"})}),(0,t.jsxs)(b.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(b.DropdownMenuLabel,{children:"My Account"}),(0,t.jsx)(b.DropdownMenuSeparator,{}),(0,t.jsx)(b.DropdownMenuItem,{children:"Settings"}),(0,t.jsx)(b.DropdownMenuItem,{children:"Support"}),(0,t.jsx)(b.DropdownMenuSeparator,{}),(0,t.jsx)(b.DropdownMenuItem,{children:"Logout"})]})]})]}),(0,t.jsx)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8",children:(0,t.jsxs)(k.Tabs,{defaultValue:"all",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{className:"ml-auto flex items-center gap-2",children:(0,t.jsx)(g.$,{size:"sm",className:"h-8 gap-1",onClick:()=>a(!l),children:l?(0,t.jsx)("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"show books"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Add Book"})]})})})}),(0,t.jsx)(k.TabsContent,{value:"all",children:l?(0,t.jsx)(T.default,{onAction:e=>{"add"===e?(console.log("add book"),P(),setTimeout(()=>a(!1),5e3)):"cancel"===e&&(console.log("cancel add action"),a(!1))}}):R?(0,t.jsx)(D.default,{onAction:e=>{console.log("Action chosen:",e),"update"===e?(console.log("update book"),P(),setTimeout(()=>B(!1),5e3)):"cancel"===e&&(console.log("cancel update action"),B(!1))},book:F}):(0,t.jsxs)(N.Zp,{"x-chunk":"dashboard-06-chunk-0",children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"books"}),(0,t.jsx)(N.BT,{children:"Manage your books."})]}),(0,t.jsx)(N.Wu,{children:(0,t.jsxs)(v.XI,{children:[(0,t.jsx)(v.A0,{children:(0,t.jsxs)(v.Hj,{children:[(0,t.jsx)(v.nd,{children:"Title"}),(0,t.jsx)(v.nd,{children:"Book Id"}),(0,t.jsx)(v.nd,{children:"Status"}),(0,t.jsx)(v.nd,{className:"hidden md:table-cell",children:"Rent fee(ksh)"}),(0,t.jsx)(v.nd,{className:"hidden md:table-cell",children:"quantity"}),(0,t.jsx)(v.nd,{className:"hidden md:table-cell",children:"Issued"}),(0,t.jsx)(v.nd,{children:(0,t.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,t.jsx)(v.BF,{children:e?e.map(e=>(0,t.jsxs)(v.Hj,{children:[(0,t.jsx)(v.nA,{className:"font-medium",children:(0,t.jsx)("p",{className:"font-bold",children:e.title})}),(0,t.jsx)(v.nA,{children:e.id}),(0,t.jsx)(v.nA,{children:(0,t.jsx)(j.E,{variant:"outline",children:e.total_copies<=e.issued_copies?(0,t.jsx)("p",{className:"text-amber-400",children:"not available"}):(0,t.jsx)("p",{className:"text-green-400",children:"available"})})}),(0,t.jsx)(v.nA,{className:"hidden md:table-cell",children:e.cost_per_day}),(0,t.jsx)(v.nA,{className:"hidden md:table-cell",children:e.total_copies}),(0,t.jsx)(v.nA,{className:"hidden md:table-cell",children:e.issued_copies}),(0,t.jsx)(v.nA,{children:(0,t.jsxs)(b.DropdownMenu,{children:[(0,t.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(g.$,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,t.jsxs)(b.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(b.DropdownMenuLabel,{children:"Actions"}),(0,t.jsx)(b.DropdownMenuItem,{onClick:()=>J(["edit",e.title,e.author,e.cost_per_day,e.available_copies,e.id]),children:"Edit"}),(0,t.jsx)(b.DropdownMenuItem,{onClick:()=>J(["delete",e.title,e.author,e.cost_per_day,e.available_copies,e.id]),children:"Delete"})]})]})})]},e.id)):""})]})}),(0,t.jsx)(N.wL,{children:E&&(0,t.jsx)(M.A,{title:"Delete Book?",description:"Are you sure you want to delete ".concat(null==F?void 0:F.title,"?"),onConfirm:z,onCancel:()=>O(!1)})})]})})]})})]})]})}},8979:(e,s,l)=>{"use strict";l.d(s,{J:()=>c});var t=l(5155),a=l(2115),r=l(3655),o=a.forwardRef((e,s)=>(0,t.jsx)(r.sG.label,{...e,ref:s,onMouseDown:s=>{var l;s.target.closest("button, input, select, textarea")||(null==(l=e.onMouseDown)||l.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));o.displayName="Label";var n=l(3243),i=l(9434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,t.jsx)(o,{ref:s,className:(0,i.cn)(d(),l),...a})});c.displayName=o.displayName},9103:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});let t=(0,l(9946).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},9980:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>d});var t=l(5155),a=l(2115),r=l(285),o=l(6695),n=l(2523),i=l(3792);function d(e){let{onAction:s,book:l}=e,[d,c]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[p,j]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[N,b]=(0,a.useState)(!0),y=async e=>{if(s(e),"update"===e){let e={};if(d&&(e.title=d),h&&(e.author=h),u&&(e.copies=parseInt(u)),p&&(e.fee=parseFloat(p)),0===Object.keys(e).length)return void g("Please fill at least one field to update.");try{console.log("book ID ya hii kitabu",l.id);let s=await fetch("".concat(i.backendUrl,"/books/").concat(l.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();g(t.message||"Book updated successfully!"),b(!1)}catch(e){g("Failed to update book."),b(!1)}}};return(0,t.jsxs)(o.Zp,{className:"w-[350px] mx-auto",children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Update Book"}),(0,t.jsx)(o.BT,{children:"Only fill the fields you wish to update"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)(o.Zp,{className:"py-4 mb-3 text-center",children:[(0,t.jsxs)("p",{children:["Title: ",null==l?void 0:l.title]}),(0,t.jsxs)("p",{children:["Author: ",null==l?void 0:l.author]})]}),N?(0,t.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,t.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,t.jsx)(n.p,{id:"update-title",placeholder:"New Title",value:d,onChange:e=>c(e.target.value)}),(0,t.jsx)(n.p,{id:"update-author",placeholder:"New Author",value:h,onChange:e=>x(e.target.value)}),(0,t.jsx)(n.p,{id:"update-copies",placeholder:"New Number of Copies",value:u,onChange:e=>m(e.target.value)}),(0,t.jsx)(n.p,{id:"update-fee",placeholder:"New Fee",value:p,onChange:e=>j(e.target.value)})]})})}):(0,t.jsx)("p",{className:"text-green-600",children:f})]}),(0,t.jsxs)(o.wL,{className:"flex justify-between",children:[(0,t.jsx)(r.$,{variant:"outline",onClick:()=>y("cancel"),children:"Cancel"}),N&&(0,t.jsx)(r.$,{onClick:()=>y("update"),children:"Update"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[105,932,464,998,30,441,684,358],()=>s(7050)),_N_E=e.O()}]);