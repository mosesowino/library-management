(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>C});var l=r(5155),t=r(6874),a=r.n(t),n=r(6766),d=r(7340),i=r(4177),o=r(2548),c=r(9249),h=r(381),x=r(2432),m=r(6697),u=r(7924),j=r(6126),g=r(9018),f=r(285),p=r(6695),N=r(4838),b=r(2523),v=r(8382),w=r(5127),y=r(7313),T=r(6102),k=r(2115),A=r(3464);function C(){let[e,s]=(0,k.useState)(""),[r,t]=(0,k.useState)(!1),[C,B]=(0,k.useState)([]),[S,_]=(0,k.useState)(),[M,I]=(0,k.useState)(),[D,E]=(0,k.useState)("all"),[Z,L]=(0,k.useState)(null),P=C.filter(s=>{let r=e.toLowerCase();return s.title.toLowerCase().includes(r)||s.author.toLowerCase().includes(r)});(0,k.useEffect)(()=>{(async()=>{let e=await A.A.get("/books");e&&e.data&&(console.log("result ==>",e),B(e.data))})()},[]),(0,k.useEffect)(()=>{(async()=>{let e=await A.A.get("/transactions");e&&e.data&&(console.log("result ==>",e),L(e.data))})()},[]),(0,k.useEffect)(()=>{C.length>0&&R()},[C]);let R=()=>{let e=[];C.map(s=>e.push(s.total_copies)),_(e.reduce((e,s)=>e+s,0)),localStorage.setItem("initialBooks",JSON.stringify(C));let s=[];C.map(e=>s.push("number"==typeof e.issued_copies?e.issued_copies:0)),I(s.reduce((e,s)=>e+s,0))};return(0,l.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-slate-800",children:[(0,l.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-10 hidden w-14 flex-col border-r bg-background sm:flex",children:[(0,l.jsxs)("nav",{className:"flex flex-col items-center gap-4 px-2 sm:py-5",children:[(0,l.jsx)(T.TooltipProvider,{children:(0,l.jsxs)(T.Tooltip,{children:[(0,l.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,l.jsxs)(a(),{href:"/",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-accent text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,l.jsx)(d.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Dashboard"})]})}),(0,l.jsx)(T.TooltipContent,{side:"right",children:"Dashboard"})]})}),(0,l.jsx)(T.TooltipProvider,{children:(0,l.jsxs)(T.Tooltip,{children:[(0,l.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,l.jsxs)(a(),{href:"books/issued",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,l.jsx)(i.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Issued"})]})}),(0,l.jsx)(T.TooltipContent,{side:"right",children:"Issued"})]})}),(0,l.jsx)(T.TooltipProvider,{children:(0,l.jsxs)(T.Tooltip,{children:[(0,l.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,l.jsxs)(a(),{href:"/books",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,l.jsx)(o.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"books"})]})}),(0,l.jsx)(T.TooltipContent,{side:"right",children:"books"})]})}),(0,l.jsx)(T.TooltipProvider,{children:(0,l.jsxs)(T.Tooltip,{children:[(0,l.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,l.jsxs)(a(),{href:"/members",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,l.jsx)(c.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Members"})]})}),(0,l.jsx)(T.TooltipContent,{side:"right",children:"Members"})]})})]}),(0,l.jsx)("nav",{className:"mt-auto flex flex-col items-center gap-4 px-2 sm:py-5",children:(0,l.jsx)(T.TooltipProvider,{children:(0,l.jsxs)(T.Tooltip,{children:[(0,l.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,l.jsxs)(a(),{href:"#",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,l.jsx)(h.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,l.jsx)(T.TooltipContent,{side:"right",children:"Settings"})]})})})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:gap-4 sm:py-4 sm:pl-14",children:[(0,l.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[(0,l.jsxs)(v.Sheet,{children:[(0,l.jsx)(v.SheetTrigger,{asChild:!0,children:(0,l.jsxs)(f.$,{size:"icon",variant:"outline",className:"sm:hidden",children:[(0,l.jsx)(x.A,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,l.jsx)(v.SheetContent,{side:"left",className:"sm:max-w-xs",children:(0,l.jsxs)("nav",{className:"grid gap-6 text-lg font-medium",children:[(0,l.jsxs)(a(),{href:"/",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,l.jsx)(d.A,{className:"h-5 w-5"}),"Home"]}),(0,l.jsxs)(a(),{href:"#",className:"flex items-center gap-4 px-2.5 text-foreground",children:[(0,l.jsx)(i.A,{className:"h-5 w-5"}),"Issued"]}),(0,l.jsxs)(a(),{href:"/books",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,l.jsx)(o.A,{className:"h-5 w-5"}),"books"]}),(0,l.jsxs)(a(),{href:"/members",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,l.jsx)(c.A,{className:"h-5 w-5"}),"Members"]}),(0,l.jsxs)(a(),{href:"#",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,l.jsx)(m.A,{className:"h-5 w-5"}),"Settings"]})]})})]}),(0,l.jsx)(g.Qp,{className:"hidden md:flex",children:(0,l.jsx)(g.AB,{children:(0,l.jsx)(g.J5,{children:(0,l.jsx)(g.w1,{asChild:!0,children:(0,l.jsx)(a(),{href:"/",children:"Dashboard"})})})})}),(0,l.jsxs)("div",{className:"relative ml-auto flex-1 md:grow-0",children:[(0,l.jsx)(u.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(b.p,{type:"search",value:e,onChange:e=>{s(e.target.value),t(!0)},onBlur:()=>setTimeout(()=>t(!1),200),placeholder:"Search book...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]"}),r&&e&&(0,l.jsx)("div",{className:"absolute z-50 w-full bg-white border rounded-md mt-1 max-h-64 overflow-y-auto shadow-lg",children:P.length>0?P.map(e=>(0,l.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{s(e.title),t(!1)},children:[(0,l.jsx)("div",{className:"font-semibold",children:e.title}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.author})]},e.id)):(0,l.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No matches found"})})]}),(0,l.jsxs)(N.DropdownMenu,{children:[(0,l.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,l.jsx)(f.$,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:"A"})}),(0,l.jsxs)(N.DropdownMenuContent,{align:"end",children:[(0,l.jsx)(N.DropdownMenuLabel,{children:"My Account"}),(0,l.jsx)(N.DropdownMenuSeparator,{}),(0,l.jsx)(N.DropdownMenuItem,{children:"Logout"})]})]})]}),(0,l.jsxs)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8 lg:grid-cols-3 xl:grid-cols-3",children:[(0,l.jsx)("div",{children:(0,l.jsx)(n.default,{src:"/libraryImage.png",width:72,height:72,layout:"responsive",alt:"Avatar",className:"overflow-hidden rounded-full"})}),(0,l.jsxs)("div",{className:"grid auto-rows-max items-start gap-4 md:gap-8 lg:col-span-2",children:[(0,l.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-2 xl:grid-cols-4",children:[(0,l.jsxs)(p.Zp,{className:"sm:col-span-2","x-chunk":"dashboard-05-chunk-0",children:[(0,l.jsxs)(p.aR,{className:"pb-3",children:[(0,l.jsx)(p.ZB,{children:"Book issuance"}),(0,l.jsx)(p.BT,{className:"max-w-lg text-balance leading-relaxed",children:"Issue books easily to elligible members."})]}),(0,l.jsx)(p.wL,{children:(0,l.jsx)(a(),{href:"transactions/borrowbook",children:(0,l.jsx)(f.$,{children:"Issue Book"})})})]}),(0,l.jsx)(p.Zp,{"x-chunk":"dashboard-05-chunk-1",children:(0,l.jsxs)(p.aR,{className:"pb-2",children:[(0,l.jsx)(p.BT,{children:"Total Books"}),(0,l.jsx)(p.ZB,{className:"text-4xl",children:S})]})}),(0,l.jsx)(p.Zp,{"x-chunk":"dashboard-05-chunk-2",children:(0,l.jsxs)(p.aR,{className:"pb-2",children:[(0,l.jsx)(p.BT,{children:"Issued Books"}),(0,l.jsx)(p.ZB,{className:"text-4xl",children:M})]})})]}),(0,l.jsxs)(y.Tabs,{defaultValue:"week",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("div",{className:"ml-auto flex items-center gap-2"})}),(0,l.jsx)(y.TabsContent,{value:"week",children:(0,l.jsxs)(p.Zp,{"x-chunk":"dashboard-05-chunk-3",children:[(0,l.jsxs)(p.aR,{className:"px-7",children:[(0,l.jsx)(p.ZB,{children:"Transactions"}),(0,l.jsx)(p.BT,{children:"Recent transactions."})]}),(0,l.jsx)(p.Wu,{children:(0,l.jsxs)(w.XI,{children:[(0,l.jsx)(w.A0,{children:(0,l.jsxs)(w.Hj,{children:[(0,l.jsx)(w.nd,{children:"Member"}),(0,l.jsx)(w.nd,{className:"hidden sm:table-cell",children:"Book"}),(0,l.jsx)(w.nd,{className:"hidden sm:table-cell",children:"Borrowed"}),(0,l.jsx)(w.nd,{className:"hidden md:table-cell",children:"Return"}),(0,l.jsx)(w.nd,{className:"text-right",children:"Fee"})]})}),(0,l.jsx)(w.BF,{children:Z&&Z.map(e=>(0,l.jsxs)(w.Hj,{className:"bg-accent",children:[(0,l.jsxs)(w.nA,{children:[(0,l.jsx)("div",{className:"font-medium",children:e.member_name}),(0,l.jsxs)("div",{className:"hidden text-sm text-muted-foreground md:inline",children:["id: ",e.member_id]})]}),(0,l.jsxs)(w.nA,{className:"hidden sm:table-cell",children:[(0,l.jsx)("div",{className:"font-medium",children:e.book_title}),(0,l.jsxs)("div",{className:"hidden text-sm text-muted-foreground md:inline",children:["author: ",e.author]})]}),(0,l.jsx)(w.nA,{className:"hidden sm:table-cell",children:(0,l.jsx)(j.E,{className:"text-xs",variant:"secondary",children:e.issue_date})}),(0,l.jsx)(w.nA,{className:"hidden md:table-cell",children:(0,l.jsx)(j.E,{className:"text-xs",variant:"secondary",children:e.return_date?e.return_date:"Not returned"})}),(0,l.jsx)(w.nA,{className:"text-right",children:e.fee})]},e.id))})]})})]})})]})]})]})]})]})}},6126:(e,s,r)=>{"use strict";r.d(s,{E:()=>d});var l=r(5155);r(2115);var t=r(3243),a=r(9434);let n=(0,t.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:r,...t}=e;return(0,l.jsx)("div",{className:(0,a.cn)(n({variant:r}),s),...t})}},9200:(e,s,r)=>{Promise.resolve().then(r.bind(r,3792))}},e=>{var s=s=>e(e.s=s);e.O(0,[105,932,464,998,325,441,684,358],()=>s(9200)),_N_E=e.O()}]);