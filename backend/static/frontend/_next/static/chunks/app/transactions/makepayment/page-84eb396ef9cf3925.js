(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{1815:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>d});var s=a(5155),t=a(2115),l=a(285),c=a(6695),i=a(2523),r=a(3792);function d(e){let{onAction:n,member:a}=e,[d,m]=(0,t.useState)(""),[o,u]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),p=async e=>{console.log("payment done")},j=e=>{"cancel"===e?n("cancel"):"done"===e&&(n("done"),async function(){let e=await fetch("".concat(r.backendUrl,"/make_payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_id:a.id,amount:d})});h((await e.json()).message||"Payment made successfully!")}())};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Zp,{className:"w-[350px] mx-auto",children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Make payment"}),(0,s.jsx)(c.BT,{children:"make payment to clear existing debt"})]}),(0,s.jsxs)(c.Wu,{children:[(0,s.jsx)(c.Zp,{className:" mb-3 mx-auto",children:x?(0,s.jsx)(c.Zp,{className:" mx-auto p-2 text-center text-green-500",children:x}):(0,s.jsxs)(c.Wu,{className:"text-center",children:[(0,s.jsxs)("p",{children:["Member name: ",null==a?void 0:a.name]}),(0,s.jsxs)("p",{children:["Fee: ",null==a?void 0:a.debt]})]})}),x?"":(0,s.jsx)("form",{onSubmit:p,children:(0,s.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,s.jsx)("div",{className:"flex flex-col space-y-2",children:(0,s.jsx)(i.p,{placeholder:"Enter payment amount",value:d,onChange:e=>{m(e.target.value)}})})})})]}),x?"":(0,s.jsxs)(c.wL,{className:"flex justify-between",children:[(0,s.jsx)(l.$,{variant:"outline",onClick:()=>j("cancel"),children:"Cancel"}),(0,s.jsx)(l.$,{type:"submit",onClick:()=>j("done"),children:"Done"})]})]})})}},2841:(e,n,a)=>{Promise.resolve().then(a.bind(a,1815))}},e=>{var n=n=>e(e.s=n);e.O(0,[105,932,464,998,30,441,684,358],()=>n(2841)),_N_E=e.O()}]);