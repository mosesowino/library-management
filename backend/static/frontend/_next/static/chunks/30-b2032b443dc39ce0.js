"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{3792:(e,s,l)=>{l.r(s),l.d(s,{default:()=>C});var r=l(5155),a=l(6874),t=l.n(a),d=l(6766),n=l(7340),i=l(4177),o=l(2548),c=l(9249),h=l(381),x=l(2432),m=l(6697),u=l(7924),j=l(6126),g=l(9018),p=l(285),f=l(6695),N=l(4838),b=l(2523),w=l(8382),v=l(5127),T=l(7313),k=l(6102),y=l(2115),A=l(3464);function C(){let[e,s]=(0,y.useState)(""),[l,a]=(0,y.useState)(!1),[C,B]=(0,y.useState)([]),[S,_]=(0,y.useState)(),[M,I]=(0,y.useState)(),[D,Z]=(0,y.useState)("all"),[E,L]=(0,y.useState)(null),R=C.filter(s=>{let l=e.toLowerCase();return s.title.toLowerCase().includes(l)||s.author.toLowerCase().includes(l)});(0,y.useEffect)(()=>{(async()=>{let e=await A.A.get("/books");e&&e.data&&(console.log("result ==>",e),B(e.data))})()},[]),(0,y.useEffect)(()=>{(async()=>{let e=await A.A.get("/transactions");e&&e.data&&(console.log("result ==>",e),L(e.data))})()},[]),(0,y.useEffect)(()=>{C.length>0&&z()},[C]);let z=()=>{let e=[];C.map(s=>e.push(s.total_copies)),_(e.reduce((e,s)=>e+s,0)),localStorage.setItem("initialBooks",JSON.stringify(C));let s=[];C.map(e=>s.push("number"==typeof e.issued_copies?e.issued_copies:0)),I(s.reduce((e,s)=>e+s,0))};return(0,r.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-slate-800",children:[(0,r.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-10 hidden w-14 flex-col border-r bg-background sm:flex",children:[(0,r.jsxs)("nav",{className:"flex flex-col items-center gap-4 px-2 sm:py-5",children:[(0,r.jsx)(k.TooltipProvider,{children:(0,r.jsxs)(k.Tooltip,{children:[(0,r.jsx)(k.TooltipTrigger,{asChild:!0,children:(0,r.jsxs)(t(),{href:"/",className:"flex h-9 w-9 items-center justify-center rounded-lg bg-accent text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,r.jsx)(n.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Dashboard"})]})}),(0,r.jsx)(k.TooltipContent,{side:"right",children:"Dashboard"})]})}),(0,r.jsx)(k.TooltipProvider,{children:(0,r.jsxs)(k.Tooltip,{children:[(0,r.jsx)(k.TooltipTrigger,{asChild:!0,children:(0,r.jsxs)(t(),{href:"books/issued",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,r.jsx)(i.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Issued"})]})}),(0,r.jsx)(k.TooltipContent,{side:"right",children:"Issued"})]})}),(0,r.jsx)(k.TooltipProvider,{children:(0,r.jsxs)(k.Tooltip,{children:[(0,r.jsx)(k.TooltipTrigger,{asChild:!0,children:(0,r.jsxs)(t(),{href:"/books",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"books"})]})}),(0,r.jsx)(k.TooltipContent,{side:"right",children:"books"})]})}),(0,r.jsx)(k.TooltipProvider,{children:(0,r.jsxs)(k.Tooltip,{children:[(0,r.jsx)(k.TooltipTrigger,{asChild:!0,children:(0,r.jsxs)(t(),{href:"/members",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Members"})]})}),(0,r.jsx)(k.TooltipContent,{side:"right",children:"Members"})]})})]}),(0,r.jsx)("nav",{className:"mt-auto flex flex-col items-center gap-4 px-2 sm:py-5",children:(0,r.jsx)(k.TooltipProvider,{children:(0,r.jsxs)(k.Tooltip,{children:[(0,r.jsx)(k.TooltipTrigger,{asChild:!0,children:(0,r.jsxs)(t(),{href:"#",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground md:h-8 md:w-8",children:[(0,r.jsx)(h.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,r.jsx)(k.TooltipContent,{side:"right",children:"Settings"})]})})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:gap-4 sm:py-4 sm:pl-14",children:[(0,r.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[(0,r.jsxs)(w.Sheet,{children:[(0,r.jsx)(w.SheetTrigger,{asChild:!0,children:(0,r.jsxs)(p.$,{size:"icon",variant:"outline",className:"sm:hidden",children:[(0,r.jsx)(x.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,r.jsx)(w.SheetContent,{side:"left",className:"sm:max-w-xs",children:(0,r.jsxs)("nav",{className:"grid gap-6 text-lg font-medium",children:[(0,r.jsxs)(t(),{href:"/",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(n.A,{className:"h-5 w-5"}),"Home"]}),(0,r.jsxs)(t(),{href:"#",className:"flex items-center gap-4 px-2.5 text-foreground",children:[(0,r.jsx)(i.A,{className:"h-5 w-5"}),"Issued"]}),(0,r.jsxs)(t(),{href:"/books",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),"books"]}),(0,r.jsxs)(t(),{href:"/members",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),"Members"]}),(0,r.jsxs)(t(),{href:"#",className:"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(m.A,{className:"h-5 w-5"}),"Settings"]})]})})]}),(0,r.jsx)(g.Qp,{className:"hidden md:flex",children:(0,r.jsx)(g.AB,{children:(0,r.jsx)(g.J5,{children:(0,r.jsx)(g.w1,{asChild:!0,children:(0,r.jsx)(t(),{href:"/",children:"Dashboard"})})})})}),(0,r.jsxs)("div",{className:"relative ml-auto flex-1 md:grow-0",children:[(0,r.jsx)(u.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(b.p,{type:"search",value:e,onChange:e=>{s(e.target.value),a(!0)},onBlur:()=>setTimeout(()=>a(!1),200),placeholder:"Search book...",className:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]"}),l&&e&&(0,r.jsx)("div",{className:"absolute z-50 w-full bg-white border rounded-md mt-1 max-h-64 overflow-y-auto shadow-lg",children:R.length>0?R.map(e=>(0,r.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{s(e.title),a(!1)},children:[(0,r.jsx)("div",{className:"font-semibold",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.author})]},e.id)):(0,r.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No matches found"})})]}),(0,r.jsxs)(N.DropdownMenu,{children:[(0,r.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsx)(p.$,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:"A"})}),(0,r.jsxs)(N.DropdownMenuContent,{align:"end",children:[(0,r.jsx)(N.DropdownMenuLabel,{children:"My Account"}),(0,r.jsx)(N.DropdownMenuSeparator,{}),(0,r.jsx)(N.DropdownMenuItem,{children:"Logout"})]})]})]}),(0,r.jsxs)("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8 lg:grid-cols-3 xl:grid-cols-3",children:[(0,r.jsx)("div",{children:(0,r.jsx)(d.default,{src:"/images/libraryImage.png",width:72,height:72,layout:"responsive",alt:"Avatar",className:"overflow-hidden rounded-full"})}),(0,r.jsxs)("div",{className:"grid auto-rows-max items-start gap-4 md:gap-8 lg:col-span-2",children:[(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-2 xl:grid-cols-4",children:[(0,r.jsxs)(f.Zp,{className:"sm:col-span-2","x-chunk":"dashboard-05-chunk-0",children:[(0,r.jsxs)(f.aR,{className:"pb-3",children:[(0,r.jsx)(f.ZB,{children:"Book issuance"}),(0,r.jsx)(f.BT,{className:"max-w-lg text-balance leading-relaxed",children:"Issue books easily to elligible members."})]}),(0,r.jsx)(f.wL,{children:(0,r.jsx)(t(),{href:"transactions/borrowbook",children:(0,r.jsx)(p.$,{children:"Issue Book"})})})]}),(0,r.jsx)(f.Zp,{"x-chunk":"dashboard-05-chunk-1",children:(0,r.jsxs)(f.aR,{className:"pb-2",children:[(0,r.jsx)(f.BT,{children:"Total Books"}),(0,r.jsx)(f.ZB,{className:"text-4xl",children:S})]})}),(0,r.jsx)(f.Zp,{"x-chunk":"dashboard-05-chunk-2",children:(0,r.jsxs)(f.aR,{className:"pb-2",children:[(0,r.jsx)(f.BT,{children:"Issued Books"}),(0,r.jsx)(f.ZB,{className:"text-4xl",children:M})]})})]}),(0,r.jsxs)(T.Tabs,{defaultValue:"week",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"ml-auto flex items-center gap-2"})}),(0,r.jsx)(T.TabsContent,{value:"week",children:(0,r.jsxs)(f.Zp,{"x-chunk":"dashboard-05-chunk-3",children:[(0,r.jsxs)(f.aR,{className:"px-7",children:[(0,r.jsx)(f.ZB,{children:"Transactions"}),(0,r.jsx)(f.BT,{children:"Recent transactions."})]}),(0,r.jsx)(f.Wu,{children:(0,r.jsxs)(v.XI,{children:[(0,r.jsx)(v.A0,{children:(0,r.jsxs)(v.Hj,{children:[(0,r.jsx)(v.nd,{children:"Member"}),(0,r.jsx)(v.nd,{className:"hidden sm:table-cell",children:"Book"}),(0,r.jsx)(v.nd,{className:"hidden sm:table-cell",children:"Borrowed"}),(0,r.jsx)(v.nd,{className:"hidden md:table-cell",children:"Return"}),(0,r.jsx)(v.nd,{className:"text-right",children:"Fee"})]})}),(0,r.jsx)(v.BF,{children:E&&E.map(e=>(0,r.jsxs)(v.Hj,{className:"bg-accent",children:[(0,r.jsxs)(v.nA,{children:[(0,r.jsx)("div",{className:"font-medium",children:e.member_name}),(0,r.jsxs)("div",{className:"hidden text-sm text-muted-foreground md:inline",children:["id: ",e.member_id]})]}),(0,r.jsxs)(v.nA,{className:"hidden sm:table-cell",children:[(0,r.jsx)("div",{className:"font-medium",children:e.book_title}),(0,r.jsxs)("div",{className:"hidden text-sm text-muted-foreground md:inline",children:["author: ",e.author]})]}),(0,r.jsx)(v.nA,{className:"hidden sm:table-cell",children:(0,r.jsx)(j.E,{className:"text-xs",variant:"secondary",children:e.issue_date})}),(0,r.jsx)(v.nA,{className:"hidden md:table-cell",children:(0,r.jsx)(j.E,{className:"text-xs",variant:"secondary",children:e.return_date?e.return_date:"Not returned"})}),(0,r.jsx)(v.nA,{className:"text-right",children:e.fee})]},e.id))})]})})]})})]})]})]})]})]})}}}]);